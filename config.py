"""
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
TRADE ALLY BOT - CONFIG v3.0 PRODUCTION
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

‚úÖ ·Éí·Éê·É£·Éõ·ÉØ·Éù·Éë·Éî·É°·Éî·Éë·Éî·Éë·Éò:
- ·Éß·Éï·Éî·Éö·Éê token/key env variable-·É®·Éò (hardcode ·Éê·É¶·Éê·É†)
- Tier-based risk thresholds
- Signal quality gates
- ATR-based stop/target multipliers
- Daily signal limits per tier
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
"""

import os
import logging
from dotenv import load_dotenv

load_dotenv()

logger = logging.getLogger(__name__)

# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
# CREDENTIALS ‚Äî ·Éß·Éï·Éî·Éö·Éê env-·Éì·Éê·Éú (NEVER hardcode!)
# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

TELEGRAM_TOKEN      = os.environ.get("TELEGRAM_TOKEN", "")
ADMIN_ID            = int(os.environ.get("ADMIN_ID", "0"))
ANTHROPIC_API_KEY   = os.environ.get("ANTHROPIC_API_KEY", "")
AI_RISK_ENABLED     = os.environ.get("AI_RISK_ENABLED", "true").lower() == "true"

# Legacy compat
TWELVE_DATA_API_KEY = os.environ.get("TWELVE_DATA_API_KEY", "")
ALPACA_API_KEY      = os.environ.get("ALPACA_API_KEY", None)
ALPACA_SECRET_KEY   = os.environ.get("ALPACA_SECRET_KEY", None)

# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
# ASSET UNIVERSE ‚Äî 57 ·Éô·É†·Éò·Éû·É¢·Éù, 5 Tier
# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

TIER_1_BLUE_CHIPS = [
    "BTC/USD", "ETH/USD", "BNB/USD", "SOL/USD",
    "XRP/USD", "ADA/USD", "AVAX/USD", "LINK/USD",
    "MATIC/USD", "DOT/USD", "TRX/USD", "LTC/USD",
    "XLM/USD", "ETC/USD"
]

TIER_2_HIGH_GROWTH = [
    "NEAR/USD", "ARB/USD", "OP/USD", "SUI/USD",
    "INJ/USD", "APT/USD", "UNI/USD", "ATOM/USD",
    "FTM/USD", "KAS/USD", "RUNE/USD", "EGLD/USD",
    "MINA/USD"
]

TIER_3_MEME_COINS = [
    "DOGE/USD", "PEPE/USD", "WIF/USD", "BONK/USD",
    "FLOKI/USD", "BRETT/USD", "POPCAT/USD", "BOME/USD",
    "MYRO/USD"
]

TIER_4_NARRATIVE = [
    "RNDR/USD", "FET/USD", "AGIX/USD", "GALA/USD",
    "IMX/USD", "ONDO/USD", "CFG/USD", "AKT/USD",
    "TAO/USD", "PIXEL/USD"
]

TIER_5_EMERGING = [
    "SEI/USD", "TIA/USD", "STRK/USD", "BCH/USD",
    "TON/USD", "PYTH/USD", "JTO/USD", "DYM/USD",
    "ZK/USD", "AEVO/USD"
]

CRYPTO      = TIER_1_BLUE_CHIPS + TIER_2_HIGH_GROWTH + TIER_3_MEME_COINS + TIER_4_NARRATIVE + TIER_5_EMERGING
STOCKS      = []
COMMODITIES = []

# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
# SCAN SETTINGS
# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

SCAN_INTERVAL         = 900     # 15 ·É¨·É£·Éó·Éò
ASSET_DELAY           = 1.5     # ·É¨·Éê·Éõ·Éò assets ·É®·Éù·É†·Éò·É°
NOTIFICATION_COOLDOWN = 1800    # 30 ·É¨·É£·Éó·Éò cooldown per symbol
MAX_HOLD_HOURS        = 240     # 10 ·Éì·É¶·Éî default max hold

# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
# AI SETTINGS
# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

AI_MODEL                  = "claude-sonnet-4-20250514"   # Sonnet ‚Äî fast + cheap
AI_MAX_TOKENS             = 1200
AI_ENTRY_THRESHOLD        = 50    # min score AI-·É°·Éó·Éï·Éò·É° ·Éí·Éê·É°·Éê·Éí·Éñ·Éê·Éï·Éú·Éê·Éì
AI_MIN_CONFIDENCE         = 50
AI_CAUTION_THRESHOLD      = 60
AI_HIGH_RISK_THRESHOLD    = 75
AI_CONFIDENCE_HIGH        = 80
AI_CONFIDENCE_LOW         = 45
MIN_CONFIDENCE_FOR_AI     = 58   # strategy confidence >= ·Éê·Éõ score-·Éê·Éõ·Éì·Éî AI-·É° ·Éï·Éò·É´·Éê·ÉÆ·Éî·Éë·Éó

# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
# SIGNAL QUALITY GATES
# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

MAX_SIGNALS_PER_DAY           = 5    # ·É°·É£·Éö ·Éì·É¶·Éî·É®·Éò
MAX_SIGNALS_PER_TIER_DAY = {
    "BLUE_CHIP":   2,
    "HIGH_GROWTH": 2,
    "MEME":        1,
    "NARRATIVE":   1,
    "EMERGING":    1,
}

MIN_RR_RATIO                  = 1.5  # minimum Risk:Reward
REQUIRE_VOLUME_CONFIRMATION   = True

# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
# TIER-BASED RISK PARAMETERS
# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

TIER_RISK = {
    "BLUE_CHIP": {
        "stop_loss_pct":  5.0,
        "take_profit_pct": 10.0,
        "min_confidence": 60,
        "min_rr":         1.5,
        "max_hold_hours": 504,   # 21 day
        "atr_stop_mult":  1.5,
        "atr_target_mult": 2.5,
    },
    "HIGH_GROWTH": {
        "stop_loss_pct":  6.0,
        "take_profit_pct": 14.0,
        "min_confidence": 58,
        "min_rr":         1.8,
        "max_hold_hours": 240,
        "atr_stop_mult":  1.8,
        "atr_target_mult": 3.0,
    },
    "MEME": {
        "stop_loss_pct":  7.0,
        "take_profit_pct": 20.0,
        "min_confidence": 62,
        "min_rr":         2.5,
        "max_hold_hours": 72,
        "atr_stop_mult":  2.0,
        "atr_target_mult": 4.0,
    },
    "NARRATIVE": {
        "stop_loss_pct":  6.5,
        "take_profit_pct": 16.0,
        "min_confidence": 60,
        "min_rr":         2.0,
        "max_hold_hours": 168,
        "atr_stop_mult":  1.8,
        "atr_target_mult": 3.2,
    },
    "EMERGING": {
        "stop_loss_pct":  8.0,
        "take_profit_pct": 20.0,
        "min_confidence": 63,
        "min_rr":         2.2,
        "max_hold_hours": 120,
        "atr_stop_mult":  2.2,
        "atr_target_mult": 4.0,
    },
}

# Default fallback
DEFAULT_STOP_LOSS_PCT    = 5.0
DEFAULT_TAKE_PROFIT_PCT  = 10.0

# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
# STRATEGY COOLDOWNS (·É°·Éê·Éê·Éó·Éî·Éë·É®·Éò)
# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

STRATEGY_COOLDOWNS = {
    "long_term":     48,
    "swing":         96,
    "scalping":       6,
    "opportunistic": 72,
}

# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
# TECHNICAL INDICATOR SETTINGS
# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

RSI_PERIOD      = 14
RSI_OVERBOUGHT  = 70
RSI_OVERSOLD    = 30
EMA_SHORT       = 50
EMA_LONG        = 200
BB_PERIOD       = 20
BB_STD          = 2.0
MACD_FAST       = 12
MACD_SLOW       = 26
MACD_SIGNAL_P   = 9
ATR_PERIOD      = 14
VOLUME_MA       = 20

# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
# FILES & PATHS
# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

SUBSCRIPTIONS_FILE    = "subscriptions.json"
PAYMENT_REQUESTS_FILE = "payment_requests.json"
ACTIVE_POSITIONS_FILE = "active_positions.json"
KNOWLEDGE_BASE_FILE   = "trading_knowledge.json"
ANALYTICS_DB          = "trading_analytics.db"
SIGNAL_HISTORY_DB     = "signal_history.db"
LOG_FILE              = "tradeally.log"
LOG_MAX_BYTES         = 10 * 1024 * 1024
LOG_BACKUP_COUNT      = 5

# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
# TELEGRAM MESSAGE TEMPLATES
# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

WELCOME_MSG_TEMPLATE = """üëã ·Éí·Éê·Éõ·Éê·É†·ÉØ·Éù·Éë·Éê @{username}!

ü§ñ Trade Ally ‚Äî AI Crypto Trading Bot

üìä 57 ·Éô·É†·Éò·Éû·É¢·Éù | 24/7 ·Éõ·Éù·Éú·Éò·É¢·Éù·É†·Éò·Éú·Éí·Éò
üß† AI Risk Evaluator (Claude Sonnet)
üéØ 4 ·É°·É¢·É†·Éê·É¢·Éî·Éí·Éò·Éê | Real-time Exit Signals

üí∞ Subscription: 150‚Çæ / ·Éó·Éï·Éî

/subscribe ‚Äî ·Éí·Éê·Éõ·Éù·É¨·Éî·É†·Éê
/guide ‚Äî ·É°·Éê·ÉÆ·Éî·Éö·Éõ·É´·É¶·Éï·Éê·Éú·Éî·Éö·Éù
/tiers ‚Äî ·Éô·Éê·É¢·Éî·Éí·Éù·É†·Éò·Éî·Éë·Éò"""

PAYMENT_INSTRUCTIONS = """üí≥ ·Éí·Éê·Éì·Éê·ÉÆ·Éì·Éò·É° ·Éò·Éú·É°·É¢·É†·É£·É•·É™·Éò·Éê

·Éó·Éê·Éú·ÉÆ·Éê: 150‚Çæ / ·Éó·Éï·Éî

·Éí·Éê·Éì·Éê·ÉÆ·Éì·Éò·É° ·Éí·Éñ·Éî·Éë·Éò:
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
üè¶ TBC Bank
IBAN: GE70BG0000000538913702
·Éì·Éê·Éú·Éò·É®·Éú·É£·Éö·Éî·Éë·Éê: ·É®·Éî·Éú·Éò Telegram ID

üì± UNISTREAM
·Éú·Éù·Éõ·Éî·É†·Éò: +995 XXX XX XX XX
·É®·Éî·Éú·Éù·Éë·Éê: ·É®·Éî·Éú·Éò Telegram ID

üíé USDT (TRC20)
·Éõ·Éò·É°·Éê·Éõ·Éê·É†·Éó·Éò: [WALLET_ADDRESS]

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
·Éí·Éê·Éì·Éê·ÉÆ·Éì·Éò·É° ·É®·Éî·Éõ·Éì·Éî·Éí:
1. ·É•·Éï·Éò·Éó·É†·Éò·É° ·É§·Éù·É¢·Éù ‚Äî ·Éí·Éê·Éõ·Éù·Éê·Éí·Éñ·Éê·Éï·Éú·Éî ·Éë·Éù·É¢·Éñ·Éî
2. Admin: 1-6 ·É°·Éê·Éê·Éó·Éò
3. Premium ‚Äî 30 ·Éì·É¶·Éî"""

TIER_DESCRIPTIONS = """üìä Asset ·Éô·Éê·É¢·Éî·Éí·Éù·É†·Éò·Éî·Éë·Éò

üîµ BLUE CHIP (Tier 1)
BTC, ETH, BNB, SOL, XRP...
‚Üí ·Éì·Éê·Éë·Éê·Éö·Éò ·É†·Éò·É°·Éô·Éò | -5% stop | +10% target

üü¢ HIGH GROWTH (Tier 2)
NEAR, ARB, SUI, INJ, APT...
‚Üí ·É°·Éê·É®·É£·Éê·Éö·Éù ·É†·Éò·É°·Éô·Éò | -6% stop | +14% target

üü° MEME (Tier 3)
DOGE, PEPE, WIF, BONK...
‚Üí ·Éõ·Éê·É¶·Éê·Éö·Éò ·É†·Éò·É°·Éô·Éò | -7% stop | +20% target

üü£ NARRATIVE (Tier 4)
RNDR, FET, TAO, ONDO...
‚Üí ·É°·Éê·É®·É£·Éê·Éö·Éù-·Éõ·Éê·É¶·Éê·Éö·Éò | -6.5% stop | +16% target

üî¥ EMERGING (Tier 5)
SEI, TIA, TON, ZK...
‚Üí ·Éß·Éï·Éî·Éö·Éê·Éñ·Éî ·Éõ·Éê·É¶·Éê·Éö·Éò | -8% stop | +20% target"""

GUIDE_FOOTER = "\n\n‚ö†Ô∏è DYOR ‚Äî ·Éê·É† ·Éê·É†·Éò·É° ·É§·Éò·Éú·Éê·Éú·É°·É£·É†·Éò ·É†·É©·Éî·Éï·Éê\nüí° Always use Stop-Loss!"

# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
# HELPER FUNCTIONS
# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

def get_tier(symbol: str) -> str:
    if symbol in TIER_1_BLUE_CHIPS:   return "BLUE_CHIP"
    if symbol in TIER_2_HIGH_GROWTH:  return "HIGH_GROWTH"
    if symbol in TIER_3_MEME_COINS:   return "MEME"
    if symbol in TIER_4_NARRATIVE:    return "NARRATIVE"
    if symbol in TIER_5_EMERGING:     return "EMERGING"
    return "BLUE_CHIP"


def get_tier_risk(tier: str) -> dict:
    return TIER_RISK.get(tier, TIER_RISK["HIGH_GROWTH"])


def validate_config() -> bool:
    issues = []
    if not TELEGRAM_TOKEN:
        issues.append("TELEGRAM_TOKEN not set")
    if not ANTHROPIC_API_KEY:
        issues.append("ANTHROPIC_API_KEY not set")
    if ADMIN_ID == 0:
        issues.append("ADMIN_ID not set")

    if issues:
        for issue in issues:
            logger.error(f"‚ùå Config: {issue}")
        return False

    logger.info("‚úÖ Config validated OK")
    return True
